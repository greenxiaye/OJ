<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全选</title>
</head>

<body>
    <ul>
        <li>全选<input type='checkbox' id='all'></li>
        <li>Java<input type='checkbox' class='item'></li>
        <li>javaScript<input type='checkbox' class='item'></li>
        <li>C++<input type='checkbox' class='item'></li>
        <li>python<input type='checkbox' class='item'></li>
        <li>.net<input type='checkbox' class='item'></li>
    </ul>
</body>

</html>
<style>
    ul {
        list-style: none;
    }
</style>
<script>
    var all = document.querySelector("#all")
    var options = Array.from(document.querySelectorAll('.item'))
    // var options = [...document.querySelectorAll('.item')] //not
    console.log(options)
    // 全选的选中or不中
    var clickedCnt = 0
    all.onchange = function (event) {
        options.forEach(function (item) {
            item.checked = all.checked
        })
        if (all.checked) {
            clickedCnt = options.length
        } else {
            clickedCnt = 0
        }
    }
    options.forEach(function (item, index) {
        item.onchange = function (event) {
            if (item.checked) {
                clickedCnt++
            } else {
                clickedCnt--
            }
            if (clickedCnt == options.length) {
                all.checked = true
            } else {
                all.checked = false
            }
        }
    })
    // let ans = function () {
    //     all.checked = true;
    //     all.onchange();
    //     var result = options.every(x => x.checked);
    //     return result;
    // }
    // ans()
</script>

<!-- 描述
请补全JavaScript代码，实现以下效果：
1. 选中"全选"框，以下所有选项全部勾选。
2. 把"全选"框从选中状态勾选成未选中状态，其他复选框全部取消选中效果。
3. 当其他复选框全部选中，"全选框"为选中状态。
4. 当其他复选框有一个未选中，"全选框"取消选中状态。
注意：
1. 必须使用DOM0级标准事件（onchange） -->

<!-- 1.不能用let
2.不能用在标签内用onchange = “onAllChange()”
3.测试用例不一定只有五个item -->